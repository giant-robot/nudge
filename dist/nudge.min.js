!function(a){"use strict";function b(b){this.config=a.extend(!0,{},this.defaults,b||{})}return"undefined"==typeof a.featherlight?void("console"in window&&window.console.info("Too much lightness; Nudge needs Featherlight.")):(b.prototype.defaults={title:"",message:"",confirmText:"OK",cancelText:"Cancel",showCancel:!1,variant:null,prompt:!1,promptDefault:"",namespace:"nudge-message",onConfirm:function(a){a.close()},onCancel:function(a){a.close()},onInput:a.noop,modal:{namespace:"nudge",closeOnClick:!1,closeIcon:null}},b.prototype.give=function(b){var c=this;b="string"==typeof b?{message:b}:b;var d=a.extend(!0,{},this.config,b),e=a("<div>").addClass(d.namespace);d.variant&&e.addClass(d.namespace+"--"+d.variant);var f=a("<div>").addClass(d.namespace+"__title"),g=a("<div>").addClass(d.namespace+"__message"),h=a("<div>").addClass(d.namespace+"__actions"),i=a("<div>").addClass(d.namespace+"__input"),j=a("<a>").addClass(d.namespace+"__button"),k=j.clone().addClass(d.namespace+"__button--confirm").text(d.confirmText),l=j.clone().addClass(d.namespace+"__button--cancel").text(d.cancelText);if(d.title&&e.append(f.html(d.title)),d.message&&e.append(g.html(d.message)),d.prompt){var m=a("<input>");"textarea"===d.prompt&&(m=a("<textarea>")),m.addClass(d.namespace+"__field").val(d.promptDefault),i.append(m),e.append(i)}d.showCancel&&h.append(l),h.append(k),e.append(h);var n=a.extend({},d.modal,{afterContent:function(){var a=this;a.$content.find("."+d.namespace+"__button--confirm").click(function(){return d.prompt&&d.onInput.call(c,a.$content.find("."+d.namespace+"__field").val()),d.onConfirm.call(c,a),!1}),a.$content.find("."+d.namespace+"__button--cancel").click(function(){return d.onCancel.call(c,a),!1}),a.$instance.addClass(d.modal.namespace+"--ready")},afterOpen:function(){d.prompt&&this.$content.find("."+d.namespace+"__field").focus()}});a.featherlight(e,n)},b.give=function(a){(new b).give(a)},void(window.Nudge=b))}(window.jQuery);